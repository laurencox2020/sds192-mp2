---
title: "Mini Project 2"
author: "Lauren Cox & Emilia Field"
date: "3/22/2019"
output: 
  html_document:
    code_folding: hide
---

```{r 1st chunk, message = FALSE}
library(tidyverse)
library(ggthemr)
load("house_elections.rda")
load("candidates.rda")
load("committees.rda")
load("contributions.rda")
```

```{r 2nd chunk, message = FALSE}
cand_contrib <- contributions %>%
  inner_join(candidates, by = c("cand_id" = "cand_id"))
```

```{r 3rd chunk, message = FALSE}
cand_function <- function(data) {
  entity_data <- data %>%
    filter(entity_type != "", cand_party_affiliation == "DEM" | cand_party_affiliation == "REP") %>%
    group_by(entity_type, cand_party_affiliation) %>%
    arrange(desc(transaction_amt))
    
}

cand_donations <- cand_function(cand_contrib)
```

```{r 4th chunk, message = FALSE, warning = FALSE}
ggthemr("grape")
party_donations <- ggplot(cand_donations, aes(x = entity_type, y = transaction_amt, fill = cand_party_affiliation)) +
  labs(x = "Entity Type", y = "Average Transaction Amount") +
  geom_bar(stat = "identity", position = "dodge") +
  scale_fill_manual("Party Affiliation", values = c("DEM" = "blue", "REP" = "red"))

party_donations +
  ggtitle("Average Transaction Amount by Entity Type for Democrats & Republicans") +
  scale_x_discrete(limits = c("CAN", "CCM", "COM", "IND", "ORG", "PAC", "PTY"))  
```

^[This is my repository (https://github.com/laurencox2020/sds192-mp2.git)]







